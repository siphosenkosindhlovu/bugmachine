<!DOCTYPE html>
<html manifest="app.appcache" lang="en">
<title>
    Banking portal
</title>
<meta charset="utf-8">
<base href="/">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="bs/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="css/animate.css">
<link rel="stylesheet" type="text/css" href="css/style.css">
<link rel="stylesheet" type="text/css" href="css/form.css">
<link rel="stylesheet" type="text/css" href="css/login.css">
<script src="js/jquery.js"></script>
<script>
</script>
<script src="js/moment.js"></script>
<script src="js/underscore-min.js"></script>
<script src="js/validate.min.js"></script>
<!--[if lte IE 9]>
  <script type="text/javascript" src="js/flashcanvas.js"></script>
<![endif]-->

<script src="js/jSignature.min.js"></script>
<!--script src="jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script-->
<script src="bs/js/bootstrap.js"></script>
<script src="angular-1.6.8/angular.js"></script>
<!--script src="angular-1.6.8/angular-route.min.js"></script-->
<script src="angular-1.6.8/angular-ui-router.js"></script>
<script src="angular-1.6.8/angular-cookies.min.js"></script>
<script src="angular-1.6.8/angular-animate.min.js"></script>

<body>
    <div id="loader" class="loader jumbotron" style="height: 100vh">
        <div class="jumbotron text-center">
            <div class="loader-custom">
                <div class="awkward-spinning-circle">
                    <div class="eye-left"></div>
                    <div class="eye-right"></div>
                </div>
                <h3>
                    Loading
                    <br>
                    <small id="status"></small>
                </h3>
            </div>
            <div class="progress">
                <div class="progress-bar"></div>
            </div>
        </div>
    </div>
    <div data-ng-app="bugmachine" class="main" style="display: none">
        <header class="main-nav" ng-controller="NavController as nc">
            <div class="title_bar container">
                <span style="float:left">
                    <a ng-click="nc.back()" data-rel="back">
                        <span class="glyphicon glyphicon-chevron-left"></span> Back
                    </a>
                </span>
                <img src="assets/Logo.jpg" class="main-logo">
                <div class="dropdown clearfix help-btn" style="display: inline-block; margin-top: auto">
                    <span class="dropdown-toggle" data-toggle="dropdown">{{ nc.getUserData().username }}
                        <span class="glyphicon glyphicon-option-vertical"></span>
                    </span>
                    <ul class="dropdown-menu dropdown-menu-right">
                        <li>
                            <a ui-sref="index">Home</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a ui-sref="profile">Profile</a>
                        </li>
                        <li ng-if="nc.isAuthenticated()" class="divider"></li>
                        <li ng-if="nc.isAuthenticated()">
                            <a ng-click="nc.logout()">Logout</a>
                        </li>
                    </ul>
                </div>
            </div>
        </header>
        <div class="main-view" ui-view></div>
    </div>

    <script>
        applicationCache.addEventListener('checking', function () {
        })
        applicationCache.addEventListener('cached', function () {
            $('.loader-custom').addClass('loaded-success')
            $('.progress-bar').css('width', '100%')
            setTimeout(function () {
                $('#loader').css('display', 'none')
            }, 2500)
        })
        applicationCache.addEventListener('noupdate', function () {

            $('.loader-custom').addClass('loaded-success');
            $('.progress-bar').css('width', '100%')
            setTimeout(function () {
                $('#loader').css('display', 'none')
                $('.main').css('display', 'block');
            }, 2500)
        })
        applicationCache.addEventListener('downloading', function (e) {
            e.preventDefault();
            $('#status').text('Downloading')
        })
        applicationCache.addEventListener('progress', function (e) {
            $('#status').text('Downloading');

            var prog = (e.loaded / e.total) * 100;
            var width = prog + '%'
            $('.progress-bar').css('width', width)
            console.log(e)
        })
        applicationCache.addEventListener('error', function (e) {
            $('#status').text('Error loading application');
        })
        applicationCache.addEventListener('updateready', function () {
            $('#status').text('Update Ready, Reloading page')
            $('.loader-custom').addClass('loaded-success');

            $('.progress-bar').css('width', '100%')
            setTimeout(function () {
                location.reload();
            }, 2500)
        })
    </script>
    <script src="js/app.js"></script>
    <script src="js/services/authService.js"></script>
    <script src="js/services/submitService.js"></script>
    <script src="js/services/localStorageHelper.js"></script>
    <script src="js/directives/angular-base64-upload.js"></script>
    <script src="js/controllers/navController.js"></script>
    <script src="js/controllers/homeController.js"></script>
    <script src="js/controllers/loginController.js"></script>
    <script src="js/controllers/signupController.js"></script>
    <script src="js/controllers/registerController.js"></script>
    <script src="js/controllers/adminController.js"></script>
    <script src="js/controllers/agentController.js"></script>
    <!--script src="js/controllers/profileController.js"></script-->
</body>

</html>